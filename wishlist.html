<!DOCTYPE html>
<html lang="en">

<head>
   <!-- Required meta tags -->
   <meta charset="utf-8" />
   <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
   <!-- Favicon -->
   <link rel="shortcut icon" href="images/fav.png" type="image/x-icon" />
   <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css">
   <!-- Bootstrap CSS -->
   <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/css/bootstrap.min.css" rel="stylesheet"
      integrity="sha384-4Q6Gf2aSP4eDXB8Miphtr37CMZZQ5oXLH2yaXMJ2w8e2ZtHTl7GptT4jmndRuHDT" crossorigin="anonymous">
   <!-- google fonts -->
   <link
      href="https://fonts.googleapis.com/css2?family=Fredoka:wght@300..700&family=Lato:ital,wght@0,100;0,300;0,400;0,700;0,900;1,100;1,300;1,400;1,700;1,900&display=swap"
      rel="stylesheet">
   <!-- Custom Css -->
   <link rel="stylesheet" href="css/style.css" />
   <link rel="stylesheet" href="css/media.css" />
   <link rel="stylesheet" href="css/owl.carousel.min.css">
   <link rel="stylesheet" href="css/owl.theme.default.min.css">
   <title></title>
</head>

<body>
   <section class="top-header">
      <div class="container">
         <div class="row">
            <p>
               <img src="images/pencilbaner-img.svg" />Free home delivery minimum order $49.99
            </p>
         </div>
      </div>
   </section>
   <header>
      <nav class="navbar navbar-expand-lg position-relative customnav">
         <div class="container">
            <!-- Left: Logo -->
            <a class="navbar-brand" href="index.html">
            <img
               src="images/logo.png"
               srcset="images/logo@2x.png 2x,images/logo@3x.png 3x"
               alt="img"
               class="logo-img"
               />
            </a>
            <!-- Right: Cart + Toggler for Mobile -->
            <div class="d-flex align-items-center ms-auto order-lg-2">
               <ul class="rightside-menu d-flex">
                  <li>
                     <a href="login.html" class="text-dark position-relative"><i class="bi bi-person"></i></a>
                  </li>
                  <li>
                     <a href="#" class="text-dark position-relative"><i class="bi bi-search search-toggle"></i></a>
                  </li>
                  <li>
                     <a href="wishlist.html" class="text-dark position-relative active"><i class="bi bi-heart"></i>
                     
                        <span class="wishlist-count-badge badge bg-danger position-absolute top-0 start-100 translate-middle">0</span>
                     </a>
                  </li>
                  <li>
                     <a href="cart.html" class="text-dark position-relative">
                     <i class="bi bi-cart"></i>
                     <span
                     class="position-absolute top-0 start-100 translate-middle 
                     badge rounded-pill bg-danger" id="cart-count"
                     >0</span
                        >
                     </a>
                  </li>
               </ul>
               <!-- Offcanvas toggle button visible only on mobile -->
               <button
                  class="navbar-toggler d-lg-none"
                  type="button"
                  data-bs-toggle="offcanvas"
                  data-bs-target="#offcanvasNavbar"
                  aria-controls="offcanvasNavbar"
                  aria-label="Toggle navigation"
                  >
               <span ><i class="bi bi-list" style="font-size: 1.5rem;"></i></span>
               </button>
            </div>
            <!-- Placeholder container for menu (empty) -->
            <div
               class="collapse navbar-collapse justify-content-center order-lg-1 d-lg-flex"
               id="mainNavbar"
               ></div>
         </div>
      </nav>
      <!-- Offcanvas menu for mobile -->
      <div class="offcanvas offcanvas-start" tabindex="-1" id="offcanvasNavbar" aria-labelledby="offcanvasNavbarLabel">
         <div class="offcanvas-header">
            <h5 class="offcanvas-title" id="offcanvasNavbarLabel"> <img src="images/logo.png"
                  srcset="images/logo@2x.png 2x,images/logo@3x.png 3x" alt="img" class="logo-img" /></h5>
            <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"></button>
         </div>
         <div class="offcanvas-body">
            <!-- Placeholder for mobile menu -->
            <div id="offcanvasMenuContainer"></div>
         </div>
      </div>
      <!-- Single menu markup only once -->
      <ul id="singleMenu" class="navbar-nav mb-2 mb-lg-0 navbar-center" style="list-style: none; padding-left: 0;">
         <li class="nav-item"><a class="nav-link" href="index.html">Home</a></li>
         <li class="nav-item"><a class="nav-link" href="about.html">About</a></li>
         <li class="nav-item"><a class="nav-link" href="listing.html">Menu</a></li>
         <li class="nav-item"><a class="nav-link" href="blog.html">Blog</a></li>
         <li class="nav-item"><a class="nav-link" href="contactus.html">Contact us</a></li>
      </ul>
   </header>
   <div class="search-bar-container d-none mt-2">
      

      <form id="search-form ">
         <div style="position: relative;">
            <input class="form-control form-control-lg search-input" type="text" id="search-input" placeholder="Search product by name..." autocomplete="off" />
            <ul id="autocomplete-list" class="autocomplete-items"></ul>
          </div>
       </form>
       <p id="search-error" style="color:red; display:none;">No matching product found</p>
   </div>
   <!--- common banner section start---->
   <section class="cmn-bnr">
      <div class="container">
         <div class="row">
            <div class="col-md-12">
               <h3>Wishlist</h3>
               <nav aria-label="breadcrumb">
                  <ol class="breadcrumb">
                     <li class="breadcrumb-item"><a href="index.html">Home</a></li>
                     <li class="breadcrumb-item active" aria-current="page">Wishlist</li>
                  </ol>
               </nav>

            </div>


         </div>


      </div>



   </section>

   <!--- wishlist section start---->
   <section class="wishlist-sec">
      <div class="container">

         <div class="row" id="wishlist-container"> <!-- Dynamic product goes here --></div>





      </div>





   </section>





   <section class="insta-img">
      <div class="title-dv mid-align">
         <h3>
            <span>Follow Us </span> Instragram
         </h3>
      </div>
      <ul>
         <li>
            <img src="images/insta1.png" srcset="images/insta1@2x.png 2x,images/insta1@3x.png 3x" alt="img"> 
            <a href="#">
               <div class="overlay-insta"><i class="bi bi-instagram"></i></div>
            </a>
         </li>
         <li>
            <img src="images/insta2.png" srcset="images/insta2@2x.png 2x,images/insta2@3x.png 3x" alt="img"> 
            <a href="#">
               <div class="overlay-insta"><i class="bi bi-instagram"></i></div>
            </a>
         </li>
         <li>
            <img src="images/insta3.png" srcset="images/insta3@2x.png 2x,images/insta3@3x.png 3x" alt="img"> 
            <a href="#">
               <div class="overlay-insta"><i class="bi bi-instagram"></i></div>
            </a>
         </li>
         <li>
            <img src="images/insta4.png" srcset="images/insta4@2x.png 2x,images/insta4@3x.png 3x" alt="img"> 
            <a href="#">
               <div class="overlay-insta"><i class="bi bi-instagram"></i></div>
            </a>
         </li>
         <li>
            <img src="images/insta5.png" srcset="images/insta5@2x.png 2x,images/insta5@3x.png 3x" alt="img"> 
            <a href="#">
               <div class="overlay-insta"><i class="bi bi-instagram"></i></div>
            </a>
         </li>
      </ul>
      <div class="clearfix"></div>
   </section>
   <footer>
      <div class="container">
         <div class="row">
            <div class="col-md-4" >
               <div class="logodiv">
                  <img src="images/logo.png" srcset="images/logo@2x.png 2x,images/logo@3x.png 3x" alt="img">
               </div>
               <div class="playstore">
                 <a href="#"> <img src="images/appleplay.svg"  alt="img"></a>
                 <a href="#"> <img src="images/googleplay.svg"  alt="img"></a>
               </div>
            </div>
            <div class="col-md-2" >
               <div class="title-dv ">
                  <h3>
                     Menus
                  </h3>
               </div>
               <ul class="catamenu">
                  <li><a href="listing.html"><i class="bi bi-arrow-right"></i>Pizzas</a></li>
                  <li><a href="listing.html"><i class="bi bi-arrow-right"></i>Combo</a></li>
                  <li><a href="listing.html"><i class="bi bi-arrow-right"></i>Starters</a></li>
                  <li><a href="listing.html"><i class="bi bi-arrow-right"></i>Main course</a></li>
                  <li><a href="listing.html"><i class="bi bi-arrow-right"></i>Drinks (Beverages) </a></li>
               </ul>
            </div>
            <div class="col-md-3" >
               <div class="title-dv ">
                  <h3>
                     Opening Hours
                  </h3>
               </div>
               <ul class="iconmenu">
                  <li><i class="bi bi-clock"></i> <span>Monday – Friday: 9am – 10pmSaturday – Sunday: 10am – 11pm</span></li>
               </ul>
               <ul class="social-links">
                  <li><a href="#"><i class="bi bi-facebook square-icon"></i></a></li>
                  <li><a href="#"><i class="bi bi-instagram  square-icon"></i></a></li>
                  <li><a href="#"><i class="bi bi-youtube  square-icon"></i></a></li>
               </ul>
            </div>
            <div class="col-md-3" >
               <div class="title-dv ">
                  <h3>
                     Contact Info
                  </h3>
               </div>
               <ul class="iconmenu">
                  <li><i class="bi bi-geo-alt"></i> <span>128 6th Ave,New York, 
                     NY 10015 United States, 
                     Dcca-1212</span>
                  </li>
                  <li><i class="bi bi-telephone"></i> <span><a href="tel:91-7262562562">+91 - 7262562562</a></span></li>
                  <li><i class="bi bi-envelope"></i> <span><a href="mailto:info@goodfood.com">info@goodfood.com</a></span></li>
               </ul>
            </div>
         </div>
         <div class="col-md-12">
            <p class="copyright">Copyright © Good Food 2025 All rights reserved </p>
         </div>
      </div>
   </footer>
   <script src="js/jquery.min.js"></script>
   <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js"
      integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r"
      crossorigin="anonymous"></script>
   <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/js/bootstrap.min.js"
      integrity="sha384-RuyvpeZCxMJCqVUGFI0Do1mQrods/hhxYlcVfGPOfQtPJh0JCw12tUAZ/Mv10S7D"
      crossorigin="anonymous"></script>

   <script src="https://code.jquery.com/ui/1.13.2/jquery-ui.min.js"></script>
   <script src="js/owl.carousel.js"></script>
   <script src="js/script.js"></script>
   <script src="js/js-dynamic.js"></script>
   <script src="js/static-menu.js"></script>
   

   <script>
      // Get wishlist from localStorage
      function getWishlist() {
         return JSON.parse(localStorage.getItem("wishlist")) || [];
      }

      // Clean duplicates from localStorage (id + type based)
      function cleanWishlist() {
         const wishlist = getWishlist();
         const seen = new Set();
         const unique = [];

         for (const item of wishlist) {
            const key = `${item.id}_${item.type}`;
            if (!seen.has(key)) {
               seen.add(key);
               unique.push(item);
            }
         }

         localStorage.setItem("wishlist", JSON.stringify(unique));
      }

      // Call cleanup on load
      cleanWishlist();

      // Main render function
      async function renderWishlist() {
         const wishlist = getWishlist();
         const wishlistContainer = document.getElementById("wishlist-container");

         if (!wishlist.length) {
            wishlistContainer.innerHTML = "<p><img src='images/sad.svg'>Your wishlist is empty.</p>";
            return;
         }

         // Load all products from JSON
         let allProducts = [];
         try {
            const res = await fetch("products.json");
            if (!res.ok) throw new Error(`HTTP error! status: ${res.status}`);
            allProducts = await res.json();
         } catch (err) {
            console.error("Failed to load products:", err);
            wishlistContainer.innerHTML = "<p>Failed to load products.</p>";
            return;
         }

         // Filter and render unique items
         const seen = new Set();
         const uniqueWishlist = wishlist.filter(item => {
            const key = `${item.id}_${item.type}`;
            if (seen.has(key)) return false;
            seen.add(key);
            return true;
         });

         const html = uniqueWishlist.map(item => {
            const product = allProducts.find(p => p.id === item.id && p.type === item.type);
            if (!product) return "";

            return `
               <div class="col-md-6 col-lg-4">
                 <div class="static-menu">
                   <ul>
                     <li>
                       <a href="#"><img src="${product.image}" alt="${product.title}" /></a>
                     </li>
                     <li>
                       <div class="like-icon active">
                         <a href="#"><i class="bi bi-heart-fill text-danger"></i></a>
                       </div>
                       <h4><a href="#">${product.title}</a></h4>
                       <div class="star-rating">
                         ${'<i class="bi bi-star-fill"></i>'.repeat(product.rating || 4)}
                       </div>
                       <p>${product.price}</p>
                       <a href="#" class="theme-btn order-from-wishlist" data-id="${product.id}" data-type="${product.type}">Order now</a>
                       <a href="#" class="del-icon remove-from-wishlist" data-id="${product.id}" data-type="${product.type}">
                         <i class="bi bi-trash"></i>
                       </a>
                     </li>
                   </ul>
                 </div>
               </div>
             `;
         }).join("");

         wishlistContainer.innerHTML = html || "<p><img src='images/sad.svg'>Your wishlist is empty.</p>";
      }

      // Run on DOM load
      document.addEventListener("DOMContentLoaded", renderWishlist);
   </script>

   <!--order now start-->
   <script>
      document.addEventListener("click", async function (e) {
        if (e.target.classList.contains("order-from-wishlist")) {
          e.preventDefault();
          const id = e.target.dataset.id;
          const type = e.target.dataset.type;
    
          try {
            // 🔄 Remove any existing cart checkout data
            localStorage.removeItem("checkoutProducts");
    
            const res = await fetch("products.json");
            const products = await res.json();
    
            const product = products.find(p => String(p.id) === String(id) && p.type === type);
            if (!product) {
              console.error("Wishlist order: Product not found", id, type);
              alert("Product not found. Please try again.");
              return;
            }
    
            const productForCheckout = {
              ...product,
              quantity: 1
            };
    
            localStorage.setItem("checkoutProduct", JSON.stringify(productForCheckout));
            window.location.href = "checkout.html";
          } catch (err) {
            console.error("Error loading product for wishlist order:", err);
            alert("Failed to prepare checkout. Please try again.");
          }
        }
      });
    </script>
    
<!--order now end -->
<script>
   updateWishlistCount();

 </script>
</body>

</html>